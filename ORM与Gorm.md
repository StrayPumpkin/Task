# ORM与Gorm

## ORM

​		ORM全称Object-Relational Mapping，对象关系映射，是一种编程技术，用于将关系型数据库中的数据映射为面向对象编程语言中的对象。通过ORM，开发者可以使用面向对象的方式来操作数据库，而无需编写复杂的SQL语句。ORM技术极大地简化了应用程序中的数据访问层开发，提高了开发效率和代码的可维护性。

### 概念

- **实体**：实体对应数据库中的表，每个实体的实例对应表中的一行

- **属性：**对应数据库表中的列
- **映射**：
  - **类与表的映射**：一个类对应一个表。
  - **属性与列的映射**：类的属性对应表的字段
- **会话**：会话是ORM框架与数据库交互的核心，负责执行数据库操作（如查询、插入、更新等）
- **查询语言**：大多数ORM框架提供了一种特定的查询语言），与SQL类似，但它是面向对象的，允许以对象的方式查询数据。

**作用**：

- **简化数据访问**：可以使用编程语言中的类和对象来操作数据库，而无需编写复杂的SQL语句。这使数据访问层的开发更加直观和简单。
- **提高开发效率**：有丰富的API和工具，用于执行常见的数据库操作。减少手动编写SQL语句的时间，从而提高开发效率。
- **安全性增强**：能够处理SQL语句的生成和参数化，从而减少了SQL注入的风险。这有助于提高应用程序的安全性。
- **提高代码可维护性**：减少代码中的硬编码SQL语句，使代码更加清晰和易于维护。当数据库结构发生变化时，只需要更新ORM映射和相关的类定义，而无需修改大量的SQL语句。
- **支持跨数据库平台**：支持多种关系型数据库平台，可以编写一次代码，并在不同的数据库平台上运行，从而提高了代码的可移植性和复用性。
- **实现数据模型和业务逻辑的分离**：在ORM中，数据模型（即数据库中的表）和业务逻辑（即编程语言中的类和对象）是分离的。这种分离可以更加专注于业务逻辑的实现，而无需过多关注底层的数据存储细节。

### 工作流程

1. **配置数据库连接**
   ORM 需要与数据库建立连接，通常通过配置文件指定数据库类型、地址、用户名和密码等信息。

2. **定义实体类**
   开发者定义与数据库表对应的类，并通过注解或配置文件映射表和列。

3. **操作对象**

   新增：将对象持久化到数据库中。
   查询：从数据库中加载对象。
   更新：修改对象后同步到数据库。
   删除：从数据库中删除对应的对象。

4. **ORM 框架生成 SQL**

   ORM 根据操作对象的方式自动生成 SQL 并执行。

## 为什么选择Gorm

​		GORM是go语言中一个流行的orm库，它为开发者提供了一种简便的方式来管理数据，并将对象模型映射到关系型数据库中。

**优势：**

- 支持多种数据库，使其非常灵活。
- 有许多强大的查询功能，可以轻松的执行复杂数据库的查询。
- 支持事务处理，可以将一系列数据库放在同一个事物中，如果操作失败，可以自动回滚，保证数据完整性。
- API设计直观易懂，降低了学习成本和开发成本，提高开发效率。
- 支持自动化迁移，能够根据 Go 语言结构体的变化自动更新数据库表结构，从而简化数据库迭代过程